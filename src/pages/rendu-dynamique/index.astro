---
import Layout from "../../layouts/Layout.astro";
import penguins from "../../assets/penguins.json";

const speciesList = [
    ...new Set(penguins.map((penguin) => penguin.species).filter(Boolean)),
];
const linkspenguin = speciesList.map((species) => ({
    label: species,
    href: `/rendu-dynamique/${species.toLowerCase()}`,
    description: "Explorer les mesures morphologiques",
}));

const sections = [
    {
        title: "Manchots",
        links: linkspenguin,
    },
];
---

<Layout>
    <div class="min-h-screen bg-blue-950 text-blue-100">
        <div class="mx-auto flex max-w-4xl flex-col gap-12 px-6 py-16">
            <header class="space-y-3">
                <p class="text-sm font-semibold uppercase">Page dynamique</p>
                <h1 class="text-4xl font-semibold tracking-tight">
                    Sélectionner les données d'une espèce
                </h1>
                <a href="/"
          class="text-sm font-semibold text-white transition hover:text-blue-200 block border border-blue-300 rounded-lg px-4 py-2 bg-blue-900/60"
        >
          Retour à l'accueil
        </a>
            </header>
            {
                sections.map(({ title, links }) => (
                    <section class="space-y-4">
                        <div class="space-y-2">
                            <h2 class="text-2xl font-semibold">{title}</h2>
                        </div>
                        <ul class="grid gap-10 sm:grid-cols-3">
                            {links.map(({ label, href, description }) => (
                                <li>
                                    <a
                                        href={href}
                                        class={`group block rounded-2xl border border-white/10 bg-blue-900/60 p-6 shadow-lg shadow-blue-950/40 transition hover:border-blue-300/60 hover:bg-blue-900/80`}
                                    >
                                        <span class="mt-3 block text-2xl font-semibold group-hover:text-blue-50">
                                            {label}
                                        </span>
                                        <span class="mt-2 block text-sm text-blue-400 group-hover:text-blue-200">
                                            {description}
                                        </span>
                                    </a>
                                </li>
                            ))}
                        </ul>
                    </section>
                ))
            }
        </div>
    </div>
</Layout>
